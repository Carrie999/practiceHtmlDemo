<!DOCTYPE html>
<html lang="zh">
<head>
	<meta charset="UTF-8">
	<title>节流和防抖</title>
	<style>
		#box{
			width: 100%;
			height: 300px;
			background: pink;
		}
	</style>
</head>
<body>

	<div id="box">12211</div>	
	
	<script>


	function throFun(){
		console.log('执行真正的函数')
	}

	var thro = throttle(throFun,1000);

	box.addEventListener('click' , function(){
		thro();
	})

	//函数节流
	function throttle (func,delay){
		var prev = Date.now();
		return function(){
			console.log('被触发')
		    var context = this;
		    var args = arguments;
		    var now = Date.now();
		    if(now-prev>=delay){
		        func.apply(context,args);
		        prev = Date.now();
		    }
		    // clearTimeout(timer);
		 //    timer = setTimeout(function(){
		 //    	func.apply(context,args);
			// },100);

		}
	}

    
	//函数防抖
	function debounce(method,time){
		var timer = null;
		return function(){
			console.log('被触发')
			var context = this;
			//在函数执行的时候先清除timer定时器;
			console.log(timer)
			clearTimeout(timer);
			timer = setTimeout(function(){
				method.call(context);
			},time);
		}
	}
	arr=[1,2,3,5,6,7,8,9,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40]
	//函数防抖
	function getResult(arr,n,sum){
		arr2 = []
		for(let i=0;arr2.length<n; i++){
			var random_num = Math.round(Math.random()*n)
			if(!arr2.includes(arr[random_num])){
				arr2.push(arr[random_num])
			}
		}
		randomSum = 0
		for(let j=0;j<arr2.length;j++){
			randomSum += arr2[j]
		}
		// console.log(arr2)
		// console.log(randomSum)
		if(randomSum == sum){
			return arr2;
		}else{
			getResult(arr,n,sum)
		}

	}
	getResult(arr,10,80);
	cc = getResult(arr,10,175);
	console.log(cc)


	</script>
</body>
</html>